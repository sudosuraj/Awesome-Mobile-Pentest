// Attach to the UIPasteboard class
var UIPasteboard = ObjC.classes.UIPasteboard;

// Intercept the setString:forPasteboardType: method
Interceptor.attach(UIPasteboard['- setString:forPasteboardType:'].implementation, {
    onEnter: function (args) {
        var value = ObjC.Object(args[2]).toString();
        console.log("Setting clipboard value: " + value);
        // You can add your analysis or checks here
    }
});

// Intercept the stringForPasteboardType: method
Interceptor.attach(UIPasteboard['- stringForPasteboardType:'].implementation, {
    onLeave: function (retval) {
        var value = ObjC.Object(retval).toString();
        console.log("Getting clipboard value: " + value);
        // You can add your analysis or checks here
    }
});
